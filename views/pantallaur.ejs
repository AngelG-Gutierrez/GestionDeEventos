<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sonido Shorty</title>
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" type="text/css" href="/cssini/style2.css">
  <link rel="stylesheet" href="/css/tarjetas.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    .custom-button {
        width: 60%;
        height: 50px;
        border: 1px solid #6C3483; /* Color del borde por defecto */
        background: #6C3483;
        border-radius: 25px;
        font-size: 18px;
        color: white;
        cursor: pointer;
        outline: none;
        transition: border-color 0.5s; /* Transición para el cambio de color del borde */
    }
    
    .custom-button:hover {
        border-color: purple; /* Color del borde en estado hover */
    }
  </style>
</head>
<body style="background-color:rgb(61, 63, 150)">
  <header class="fixed-top">
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Sonido Shorty</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#Inicio">Inicio</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#Galeria">Galería de Eventos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#Paquetes">Paquetes</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#Mapa">Mapa de Cobertura</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#Calificacion">Califícanos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/citas">Agendar Cita</a>
            </li>
            <li class="nav-item">
              <a class="nav-link btn-eventos" href="/indexEventosUsr">Mis Eventos y Comentarios</a>
            </li>
            <li class="nav-item">
              <a class="nav-link btn-primary" href="/usuarioedit">Mis Datos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link btn-danger" href="/logout">Cerrar Sesión</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <section id="Inicio" class="ban">
    <img src="/recursos/banner.jpg" alt="Sonido Shorty Logo" class="logo">
  </section>
  <br>

  <div class="container mt-5">
    <section class="Text" style="color:white;" id="Text">
      <h5 style="color:red;text-align:left">Preparate para la mejor fiesta del año con el mejor sonido de la región!</h5>
      <p>Con la mejor música, luces increíbles y un ambiente inigualable, ¡no vas a querer perderte esta experiencia! Únete a nosotros y baila toda la noche con los ritmos más candentes. ¡No te lo pierdas!</p>
      <p>Conoce nuestros servicios, explora nuestra galería y paquetes para que puedas elegir el que más te guste, el sonido Shorty es una de las mejores opciones para ti y para tu evento, revisa nuestras fechas en el calendario y mira nuestro rango de servicio en el mapa.</p>
    </section>
  </div>
  <br>

  <div class="container mt-5">
    <section class="Galeria" id="Galeria">
      <h1 style="color:white;text-align:center">Galería</h1>
      <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="/recursos/IMG-20240611-WA0019.jpg" class="d-block w-100" alt="Imagen 1">
          </div>
          <div class="carousel-item">
            <img src="/recursos/IMG-20240611-WA0017.jpg" class="d-block w-100" alt="Imagen 2">
          </div>
          <div class="carousel-item">
            <img src="/recursos/IMG-20240611-WA0019.jpg" class="d-block w-100" alt="Imagen 3">
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </section>
  </div>

  <div class="title-cards" id="Paquetes">
    <h2>Paquetes</h2>
</div>
<div class="container-card">

    <div class="card">
        <figure>
            <img src="/recursos/1.png">
        </figure>
        <div class="contenido-card">
            <h3>Paquete básico</h3>
            <p>¡Transforma tu evento con nuestro paquete exclusivo por solo $1500!</p><br>
            <p>🔹 5 horas de diversión garantizada <br><br> 🔹 Incluye 1 medio y 1 bajo para una experiencia completa <br><br> 🔹 Iluminación espectacular para hacer brillar tu ocasión</p>

        </div>
    </div>
    <div class="card">
        <figure>
            <img src="/recursos/2.png">
        </figure>
        <div class="contenido-card">
            <h3>Medio equipo</h3>
            <p> 🎉 Por solo $2500, disfruta de 5 horas de música y diversión con el siguiente increíble combo: <br></p>
            <p>
                🔊 2 Bajos Potentes: Experimenta un sonido profundo y vibrante que hará que todos sientan la música.<br> 🎸 2 Medios Claros: Disfruta de una claridad de audio excepcional para que cada nota y palabra se escuche perfectamente.<br> 💡
                Iluminación Profesional: Crea el ambiente perfecto con efectos de luz que transformarán tu espacio en un escenario espectacular.<br>
            </p>
        </div>
    </div>
    <div class="card">
        <figure>
            <img src="/recursos/3.png">
        </figure>
        <div class="contenido-card">
            <h3>Paquete completo</h3>
            <p> 🌟 ¡Haz que tu evento sea inolvidable con nuestro Paquete Premium! 🌟 <br> Por solo $3500, disfruta de 5 horas llenas de energía y sofisticación con:</p>
            <p>🔊 4 Bajos de Alta Potencia: Sumérgete en un sonido profundo y vibrante que hará que tu evento resuene con la mejor calidad. Perfecto para que cada beat se sienta con intensidad.<br> 🎸 6 Medios de Alta Definición: Experimenta una claridad
                sonora inigualable, donde cada detalle musical y cada palabra se escuchan con perfecta precisión.<br> 💡 Iluminación Profesional y Deslumbrante: Transforma tu espacio con efectos de luz espectaculares que crean un ambiente impresionante
                <br> </p>

        </div>
    </div>
</div>

<div class="title-cards">
  <h2>Calendario de próximos eventos</h2>
</div>
<div class="container-card">

  <div class="card">
      <figure>
          <img src="/recursos/mexico.png">
      </figure>
      <div class="contenido-card">
          <h3>🌮🎉 ¡Fiesta Mexicana! 🎉🌮</h3>
          <p> 🗓 Fecha: [16 de septiembre]<br> 🕒 Hora: [8:00PM]<br></p><br>
          <p>¡Únete a nuestra celebración llena de sabor y ritmo! Disfruta de: <br><br> 🎶 Música en Vivo: Disfruta de ritmos mexicanos auténticos con mariachis y música tradicional que te hará bailar toda la noche.<br> 🌮 Deliciosa comida mexicana<br>                    📸 Zona de Fotos: Captura tus mejores momentos en nuestra área de fotos decorada con elementos típicos mexicanos. <br>🍹 Cócteles y Bebidas: Brinda con margaritas, tequila y otras bebidas tradicionales que complementarán tu experiencia.<br>                    🎉 Juegos y sorpresas<br></p>
      </div>
  </div>
  <div class="card">
      <figure>
          <img src="/recursos/muertos.png">
      </figure>
      <div class="contenido-card">
          <h3>🎉💀 ¡Celebra el Día de Muertos con Nosotros! 💀🎉</h3>
          <p> 🗓 Fecha: [29 de octubre]<br> 🕒 Hora: [9:00PM]<br></p>
          <p>
              🌸 ¡Te invitamos a una noche mágica y llena de vida! 🌸<br> 🎸✨ Decoración Temática: Disfruta de un ambiente lleno de coloridos altares, calaveras y flores de cempasúchil.<br> 🎶 Música en Vivo: Bailaremos al ritmo de música tradicional
              y moderna que hará que todos se levanten y celebren.<br> 🍴 Gastronomía Tradicional: Saborea deliciosos platillos y dulces típicos como pan de muerto, tamales y mucho más.<br> 💃 Baile y Diversión: Participa en concursos de disfraces<br>                    🎭 Disfraces y Más: Ven vestido como quieras<br>
          </p>
      </div>
  </div>
  <div class="card">
      <figure>
          <img src="/recursos/navidad.png">
      </figure>
      <div class="contenido-card">
          <h3>🎄✨ ¡Gran Fiesta Navideña! ✨🎄</h3>
          <p> 🗓 Fecha: [27 de diciembre]<br> 🕒 Hora: [7:00 PM]
          </p>
          <p>¡Te invitamos a celebrar la Navidad con nosotros en una noche llena de magia y alegría! Ven a disfrutar de:<br> 🎶 Música en Vivo: Déjate llevar por los villancicos y música festiva.<br> 🍽 Delicias Navideñas: Prueba una exquisita variedad
              de platillos tradicionales.<br> 🍹 Cócteles y Bebidas: Brinda con nuestros cócteles especiales, ponche caliente y otras bebidas<br> 🎨 Decoraciones Deslumbrantes: Admira nuestra decoración navideño.<br> 🎉 Juegos y Actividades: Disfruta
              de juegos temáticos<br> 🎅 Visita Sorpresa de Santa: ¡No te pierdas la visita especial de Santa Claus!<br>
              <br> </p>

      </div>
  </div>
</div>

  <div class="container mt-5">
    <section class="Mapa" id="Mapa">
      <h1 style="color:white;text-align:center">Mapa de Cobertura</h1>
      <input id="search-input" type="text" placeholder="Buscar dirección" class="form-control">
      <div id="map"></div>
      <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBbTekLKNnUDFz4kp63llrCepq1Hx3Tjpw&libraries=places&callback=initMap" async defer></script>
      <script src="js/map.js"></script>
    </section>
  </div>

  <div class="container mt-5">
    <section class="Calificaciones" id="Calificacion">
      <h1 style="color:white;text-align:center">Califica Nuestro Servicio</h1>
      <div class="estrellitas" style="display:flex;justify-content: center;">
        <input value="5" name="rate" id="star5" type="radio">
        <label title="text" for="star5"></label>
        <input value="4" name="rate" id="star4" type="radio">
        <label title="text" for="star4"></label>
        <input value="3" name="rate" id="star3" type="radio">
        <label title="text" for="star3"></label>
        <input value="2" name="rate" id="star2" type="radio">
        <label title="text" for="star2"></label>
        <input value="1" name="rate" id="star1" type="radio">
        <label title="text" for="star1"></label>
      </div>
      <div style="display: flex; justify-content: center; margin-top: 10px;">
        <button class="custom-button" id="enviarcalificacion" onclick="enviarcalificacion()">Enviar Calificación</button>
      </div>
      <div id="message" style="text-align: center; margin-top: 10px; color: green;"></div>
    </div>
    </section>
  </div>

  <div class="container mt-5">
    <section class="Comentario" id="Comentarios">
      <h1 style="color:white;text-align:center">Comentarios</h1>
      <form style="text-align:center" id="enviarComentarioUsuario">
        <h3>Déjanos tus comentarios</h3>
        <textarea rows="7" cols="100" id="comentario" for="comentario" name="comentario"></textarea>
        <p>
          <button type="button" class="custom-button" onclick="registroComentario()">Enviar</button>
          <br>
          <br>
          <button class="custom-button" type="reset">Borrar</button>
        </p>
      </form>
    </section>
  </div>

  <section id="contactanos">
    <div class="container">
      <div class="encabezadocontactanos">
        <h3>Contáctanos</h3>
      </div>
      <hr>
      <div class="muestrayform">
        <div class="encabezadoempresa">
          <img src="/recursos/Imagen1.png" alt="logoShorty" width="80px" height="70px">
          <p>"¡Vive el ritmo, el audio, la música y el sabor!"</p>
        </div>
        <div class="foot shorty">
          <p>Somos una empresa de desarrollo de software, enfocada en el desarrollo de soluciones de software innovadoras y de alta calidad que satisfagan las necesidades cambiantes del mercado y superen las expectativas de nuestros clientes.</p>
          <p><b>Dirección:</b> Callejón Lupita #22 Col. Cruz Verde, Izúcar de Matamoros, Puebla.</p>
          <p><b>Teléfono:</b> +52 243 109 94 45</p>
          <p><b>Correo electrónico:</b> adam.hrzeta@gmail.com</p>
          <span>
            <a href="https://www.facebook.com/SoundShorty" target="_blank">
                <button class='bx bxl-facebook-circle'></button>
            </a>
            <a href="https://wa.me/522431099445" target="_blank">
              <button class='bx bxl-whatsapp'></button>
          </a>
          </span>        
        </div>
      </div>
    </div>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/js/accionesAdministrador.js"></script>
  <script>
function registroComentario() {
    Swal.fire({
        title: "Deseas enviar tu comentario?",
        text: "La acción no es reversible!",
        icon: 'question',
        showCancelButton: true,
        confirmButtonColor: "#3085d6",
        cancelButtonColor: "#d33",
        confirmButtonText: "Enviar",
        cancelButtonText: "Cancelar"
    }).then((result) => {
        if (result.isConfirmed) {
            // Obtener el comentario del textarea
            const form = document.getElementById('enviarComentarioUsuario');
            const formData = new FormData(form);
            const jsonData = Object.fromEntries(formData.entries());

            // Enviar los datos al servidor
            fetch('/rutaComentarios', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(jsonData)
            })
            .then(response => response.json())
            .then(data => {
                console.log('Respuesta del servidor:', data); // Verifica la respuesta del servidor
                  if (data.success) {
                    Swal.fire({
                      title: "Comentario Enviado!",
                      text: "Gracias por tu comentario",
                      icon: "success"
                        });document.getElementById('enviarComentarioUsuario').reset();
                        } else {
                            Swal.fire({
                                title: "Error al enviar comentario!",
                                icon: "error"
                            });
                        }
                  })
        }
    });
}
</script>
  <script>
  document.addEventListener('DOMContentLoaded', () => {
  checkIfRated();
  });

function enviarcalificacion() {
  const selectedRating = document.querySelector('input[name="rate"]:checked');
  
  if (!selectedRating) {
    Swal.fire({
      title: 'Advertencia',
      text: 'Por favor, selecciona una calificación.',
      icon: 'warning',
      confirmButtonText: 'Aceptar'
    });
    return;
  }

  const ratingValue = selectedRating.value;

  Swal.fire({
    title: 'Confirmar Calificación',
    text: `¿Estás seguro de que deseas enviar una calificación de ${ratingValue} estrella(s)?`,
    icon: 'question',
    showCancelButton: true,
    confirmButtonText: 'Sí, enviar',
    cancelButtonText: 'No, cancelar'
  }).then((result) => {
    if (result.isConfirmed) {
      fetch('/enviarcalificacion', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ rating: ratingValue })
      })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          Swal.fire({
            title: 'Éxito',
            text: 'Calificación enviada con éxito.',
            icon: 'success',
            confirmButtonText: 'Aceptar'
          });
          document.getElementById('enviarcalificacion').style.display = 'none';
          updateAverageRating();
        } else {
          Swal.fire({
            title: 'Error',
            text: 'Error al enviar la calificación.',
            icon: 'error',
            confirmButtonText: 'Aceptar'
          });
        }
      })
    }
  });
}

function checkIfRated() {
  fetch('/check-rating')
    .then(response => response.json())
    .then(data => {
      if (data.hasRated) {
        document.getElementById('enviarcalificacion').style.display = 'none'; // Oculta el botón si ya ha calificado
      }
    })
    .catch(error => console.error('Error:', error));
}
</script>
<script>
document.addEventListener('DOMContentLoaded', () => {
    // Llamar a tu endpoint para obtener la calificación
    fetch('/get-user-rating')
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                const rating = data.rating;

                if (rating) {
                    // Marcar la estrella correspondiente basada en la calificación
                    document.querySelector(`input[value="${rating}"]`).checked = true;
                }

                // Ocultar el botón de enviar calificación si ya existe una calificación
                if (rating !== null) {
                    document.getElementById('submitRating').style.display = 'none';
                }
            } else {
                console.error('Error al obtener la calificación:', data.message);
            }
        })
        .catch(error =>console.error('Error:', error));
});
</script>
</body>
</html>